#!/usr/bin/env perl
# vim: set ts=2 sts=2 sw=2 expandtab smarttab ft=perl:
# PODNAME: rbinperl
# ABSTRACT: Execute perl using relative lib and assuming -S

use strict;
use warnings;
use FindBin;    # core
use File::Spec::Functions qw( catdir catpath splitdir splitpath ); # core

# FindBin::Bin is a dir, so set $no_file to true for reliability
my ($vol, $dirs, $file) = splitpath($FindBin::Bin, 1);
my $perl = catpath($vol, $dirs, 'rlibperl');

# re-invoke perl with the -S
# FIXME: is this portable?  maybe we need to exec $^X, $rlibperl, -S, @ARGV
exec($perl, '-S', @ARGV);
die "Failed to execute '$perl': $!";

=head1 SEE ALSO

=for :list
* L<App::rbinperl> for documentation
* L<App::rlibperl> used to discover relative lib directories
